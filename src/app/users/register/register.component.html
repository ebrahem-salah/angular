<div class="login-register">
  <div class="container">
    <div class="login-box">
        <h2>Register</h2>
        <form [formGroup]="registerForm" (ngSubmit)="register()">
          @if (error()) {
          <div class="alert alert-danger" role="alert">
            <small>
              {{ error() }}
            </small>
          </div>
          }
          <div class="input-box">
            <label class="form-label">Name</label>
            <input
              type="text"
              formControlName="name"
              name="name"
              id="name"
              required
            />

            <small class="p-error" *ngIf="name.invalid && (name.dirty || name.touched)">
              <small *ngIf="name.hasError('required')">Name is required</small>
              <!-- <small *ngIf="name.hasError('pattern')">Enter a vaild name</small> -->
            </small>
          </div>

          <div class="input-box">
            <label class="form-label">Email</label>
            <input
              type="email"
              formControlName="email"
              name="email"
              autocomplete="section-blue shipping email"
              id="email"
              required
            />
            <small class="p-error" *ngIf="email.invalid && (email.dirty || email.touched)">
              <small *ngIf="email.hasError('required')"
                >Email is required</small
              >
              <small *ngIf="email.hasError('email')"
                >Email should be vaild</small
              >
            </small>
          </div>

          <div class="input-box">
            <label class="form-label">Password</label>
            <input
              type="password"
              formControlName="password"
              name="password"
              id="password"
              autocomplete="current-password"
              required
            />
            <small class="p-error"
              *ngIf="password.invalid && (password.dirty || password.touched)"
            >
              <small *ngIf="password.hasError('password')"
                >Password must be strong
              </small>
              <small *ngIf="password.hasError('required')">
                Password is required
              </small>
            </small>
          </div>

          <div class="input-box">
            <label class="form-label">Confirm Password</label>
            <input
              type="password"
              formControlName="passwordConfirm"
              name="passwordConfirm"
              id="passwordConfirm"
              autocomplete="new-password"
              required
            />
            <small class="p-error"
              *ngIf="
                passwordConfirm.invalid &&
                (passwordConfirm.dirty || passwordConfirm.touched)
              "
            >
              <small *ngIf="passwordConfirm.hasError('required')">
                passwordConfirm
              </small>
            </small>
            <small
              *ngIf="
                registerForm.hasError('passwordConfirm') &&
                (passwordConfirm.dirty || passwordConfirm.touched)
              "
            >
              <small *ngIf="registerForm.hasError('UnmatchedPassword')">
                Password should match
              </small>
            </small>
          </div>
          <button type="submit" class="btn" [disabled]="registerForm.invalid">
            Register
          </button>

          <div class="signup-link">
            <a routerLink="/users/login">Login</a>
          </div>
        </form>
      </div>
    </div>
</div>

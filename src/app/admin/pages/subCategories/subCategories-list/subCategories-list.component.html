<p-toast position="top-center" />
<p-confirmDialog />

<div class="admin-page">
  <div class="card">
    <p-card header="SubCategories" subheader="List of all SubCategories">
      <div class="p-grid">
        <div class="p-col-12">
          <p-toolbar>
            <div class="p-toolbar-group-left">
              <p-button
                styleClass="p-button-success"
                label="New"
                icon="pi pi-plus"
                routerLink="form"
              ></p-button>
            </div>
          </p-toolbar>
        </div>
      </div>
      <div class="p-grid">
        <div class="p-col-12">
          <div class="card">
            <p-table [value]="subCategory()">
              <ng-template pTemplate="header">
                <tr>
                  <th pSortableColumn="name">
                    Name <p-sortIcon field="name" />
                  </th>
                  <th pSortableColumn="name">
                    Category <p-sortIcon field="name" />
                  </th>
                  <th>Action</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-subCategory>
                <tr>
                  <td>{{ subCategory.name }}</td>
                  <td>
                    {{ subCategory.category[0].name }}
                  </td>
                  <td>
                    <p-button
                      styleClass="p-button-danger mr-3"
                      icon="pi pi-trash"
                      (click)="deleteSubCategory(subCategory._id)"
                    ></p-button>
                    <p-button
                      styleClass="p-button-success"
                      icon="pi pi-pencil"
                      routerLink="form/{{ subCategory._id }}"
                    ></p-button>
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
      </div>
    </p-card>
  </div>
</div>
